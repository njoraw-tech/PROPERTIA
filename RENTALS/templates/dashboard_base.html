{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROPATIA | {% block title %}Dashboard{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .container { display: flex; }
        .sidebar { width: 250px; background: #f4f4f4; height: 100vh; padding: 20px; }
        .main-content { flex: 1; padding: 20px; }
    </style>
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    {% block extra_css %}
    {% endblock extra_css %}

</head>
<body>
    {% block extra_js %}
        
    {% endblock %}
    <div class="container">
        <nav class="sidebar">
            <h2>PROPATIA</h2>

                <!-- Sidebar -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <div class="logo">
                        <i class="fas fa-building"></i>
                        <span>PROPERTIA</span>
                    </div>
                </div>
                <div class="sidebar-menu">
                    <div class="menu-item">
                        <i class="fas fa-home"></i>
                        <span><a href="{% url 'dashboard_home' %}">Dashboard</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-building"></i>
                        <span><a href="{% url 'properties:properties_home' %}">Properties</a></span>
                    </div>
                      <div class="menu-item">
                        <i class="fas fa-user-friends"></i>
                        <span><a href="{% url 'units:units_list' %}">Units</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-user-friends"></i>
                        <span><a href="{% url 'tenants:tenant_list' %}">Tenants</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-file-contract"></i>
                        <span><a href="{% url 'payments:payment_list' %}">Payments</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-file-contract"></i>
                        <span><a href="{% url 'leases_home' %}">Leases</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-file-contract"></i>
                        <span><a href="{% url 'arrears:arrears_report' %}">Arrears</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-file-contract"></i>
                        <span><a href="{% url 'invoices:invoice_list' %}">Invoices</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-tools"></i>
                        <span><a href="{% url 'maintenance_home' %}">Maintenance</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-file-contract"></i>
                        <span><a href="{% url 'water_bills_home' %}">Water Bills</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-chart-line"></i>
                        <span><a href="{% url 'reports:report_generator' %}">Reports</a></span>
                    </div>
                    <div class="menu-item">
                        <i class="fas fa-question-circle"></i>
                        <span><a href="{% url 'accounts:profile_settings' %}">Support</a></span>
                    </div>
                </div>
            </div>
        </nav>

        <main class="main-content">
            {% block content %}
            {% endblock %}
        </main>
    </div>
    {% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
    {% endif %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Set active menu item based on current URL
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            const menuItems = document.querySelectorAll('.menu-item a');
            
            menuItems.forEach(link => {
                const href = link.getAttribute('href');
                // Compare the paths
                if (href === currentPath || currentPath.startsWith(href + '/')) {
                    link.closest('.menu-item').classList.add('active');
                }
            });
        });
    </script>
</body>
</html>

